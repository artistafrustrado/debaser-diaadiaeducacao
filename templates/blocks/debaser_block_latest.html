<ul>
  <{foreach item=mp3files from=$block.debaser_files}>
    <li>    
    <a href="javascript:openWithSelfMain('<{$xoops_url}>/modules/debaser/player.php?id=<{$mp3files.id}>','player',10,10)" <{if $mp3files.usetooltips == true}>onmouseover="ddrivetip('<{if $mp3files.album > 0 || $mp3files.album != ''}><{$smarty.const._MB_DEBASER_ALBUM}> <{$mp3files.album}><br /><{/if}><{if $mp3files.year > 0}><{$smarty.const._MB_DEBASER_YEAR}> <{$mp3files.year}><br /><{/if}><{if $mp3files.addinfo > 0}><{$smarty.const._MB_DEBASER_COMMENT}> <{$mp3files.addinfo}><br /><{/if}><{if $mp3files.track > 0}><{$smarty.const._MB_DEBASER_TRACK}> <{$mp3files.track}><br /><{/if}><{$smarty.const._MB_DEBASER_LENGTH}> <{$mp3files.length}><br /><{$smarty.const._MB_DEBASER_BITRATE}> <{$mp3files.bitrate}><br /><{$smarty.const._MB_DEBASER_FREQUENCY}> <{$mp3files.frequence}>','lightgrey', 200);" onmouseout="hideddrivetip()"<{/if}>><{$mp3files.artist}> - <{$mp3files.title}></a>
    </li>
  <{/foreach}>
</ul>
<{if $mp3files.usetooltips == true}>
<div id="dhtmltooltip" style="position: absolute; width: 150px; border: 2px solid black; padding: 2px; background-color: yellow; visibility: hidden; z-index: 100; filter: progid:DXImageTransform.Microsoft.Shadow(color=gray,direction=135);"></div>

<script type="text/javascript">

/***********************************************
* Cool DHTML tooltip script- © Dynamic Drive DHTML code library (www.dynamicdrive.com)
* This notice MUST stay intact for legal use
* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
***********************************************/

var offsetxpoint=-60 //Customize x offset of tooltip
var offsetypoint=20 //Customize y offset of tooltip
var ie=document.all
var ns6=document.getElementById && !document.all
var enabletip=false
if (ie||ns6)
var tipobj=document.all? document.all["dhtmltooltip"] : document.getElementById? document.getElementById("dhtmltooltip") : ""

function ietruebody(){
return (document.compatMode && document.compatMode!="BackCompat")? document.documentElement : document.body
}

function ddrivetip(thetext, thecolor, thewidth){
if (ns6||ie){
if (typeof thewidth!="undefined") tipobj.style.width=thewidth+"px"
if (typeof thecolor!="undefined" && thecolor!="") tipobj.style.backgroundColor=thecolor
tipobj.innerHTML=thetext
enabletip=true
return false
}
}

function positiontip(e){
if (enabletip){
var curX=(ns6)?e.pageX : event.x+ietruebody().scrollLeft;
var curY=(ns6)?e.pageY : event.y+ietruebody().scrollTop;
//Find out how close the mouse is to the corner of the window
var rightedge=ie&&!window.opera? ietruebody().clientWidth-event.clientX-offsetxpoint : window.innerWidth-e.clientX-offsetxpoint-20
var bottomedge=ie&&!window.opera? ietruebody().clientHeight-event.clientY-offsetypoint : window.innerHeight-e.clientY-offsetypoint-20

var leftedge=(offsetxpoint<0)? offsetxpoint*(-1) : -1000

//if the horizontal distance isn't enough to accomodate the width of the context menu
if (rightedge<tipobj.offsetWidth)
//move the horizontal position of the menu to the left by it's width
tipobj.style.left=ie? ietruebody().scrollLeft+event.clientX-tipobj.offsetWidth+"px" : window.pageXOffset+e.clientX-tipobj.offsetWidth+"px"
else if (curX<leftedge)
tipobj.style.left="5px"
else
//position the horizontal position of the menu where the mouse is positioned
tipobj.style.left=curX+offsetxpoint+"px"

//same concept with the vertical position
if (bottomedge<tipobj.offsetHeight)
tipobj.style.top=ie? ietruebody().scrollTop+event.clientY-tipobj.offsetHeight-offsetypoint+"px" : window.pageYOffset+e.clientY-tipobj.offsetHeight-offsetypoint+"px"
else
tipobj.style.top=curY+offsetypoint+"px"
tipobj.style.visibility="visible"
}
}

function hideddrivetip(){
if (ns6||ie){
enabletip=false
tipobj.style.visibility="hidden"
tipobj.style.left="-1000px"
tipobj.style.backgroundColor=''
tipobj.style.width=''
}
}

document.onmousemove=positiontip

</script>
<{/if}>